<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Friend - Pahlawan Hijau Cilik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @keyframes custom-bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes scan-line-anim { 0% { top: 0%; opacity: 0; } 50% { opacity: 1; } 100% { top: 100%; opacity: 0; } }
        .animate-pet { animation: custom-bounce 3s ease-in-out infinite; }
        .animate-scan-line { animation: scan-line-anim 1.5s linear infinite; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-[#F8FAFC] text-slate-800 font-sans overflow-hidden" 
      x-data="ecoApp()" 
      x-init="initIcons()">

    <div class="flex h-screen overflow-hidden">
        
        <aside class="w-20 lg:w-64 bg-white border-r border-slate-200 flex flex-col z-50">
            <div class="p-6 flex items-center gap-3">
                <div class="bg-green-500 p-2 rounded-xl text-white">
                    <i data-lucide="leaf"></i>
                </div>
                <h1 class="hidden lg:block text-xl font-black tracking-tighter text-green-600 uppercase">Eco-Friend</h1>
            </div>
            <nav class="flex-1 px-4 py-4 space-y-2">
                <button @click="activeTab = 'home'" :class="activeTab === 'home' ? 'bg-green-500 text-white shadow-lg' : 'text-slate-400 hover:bg-slate-50'" class="w-full flex items-center gap-4 p-4 rounded-2xl transition-all">
                    <i data-lucide="layout-dashboard"></i>
                    <span class="hidden lg:block font-black text-sm">Dashboard</span>
                </button>
                <button @click="activeTab = 'scan'" :class="activeTab === 'scan' ? 'bg-green-500 text-white shadow-lg' : 'text-slate-400 hover:bg-slate-50'" class="w-full flex items-center gap-4 p-4 rounded-2xl transition-all">
                    <i data-lucide="camera"></i>
                    <span class="hidden lg:block font-black text-sm">Scanner AI</span>
                </button>
                <button @click="activeTab = 'store'" :class="activeTab === 'store' ? 'bg-green-500 text-white shadow-lg' : 'text-slate-400 hover:bg-slate-50'" class="w-full flex items-center gap-4 p-4 rounded-2xl transition-all">
                    <i data-lucide="shopping-bag"></i>
                    <span class="hidden lg:block font-black text-sm">Marketplace</span>
                </button>
            </nav>
        </aside>

        <main class="flex-1 overflow-y-auto hide-scrollbar p-4 lg:p-8 space-y-8">
            <header class="flex justify-between items-center bg-white p-4 rounded-3xl shadow-sm border border-slate-100">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-2xl">ðŸ‘¤</div>
                    <div>
                        <h2 class="font-black text-slate-800 leading-none" x-text="userLevel"></h2>
                        <p class="text-xs font-bold text-slate-400 mt-1">ID: #49281</p>
                    </div>
                </div>
                <div class="bg-yellow-50 border border-yellow-100 px-4 py-2 rounded-2xl flex items-center gap-2">
                    <i data-lucide="star" class="text-yellow-500 fill-current w-4 h-4"></i>
                    <span class="font-black text-yellow-700" x-text="points + ' Poin'"></span>
                </div>
            </header>

            <template x-if="activeTab === 'home'">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    <div class="lg:col-span-4 space-y-6">
                        <div class="bg-gradient-to-b from-sky-100 to-white rounded-[3rem] p-8 border border-sky-50 shadow-sm relative overflow-hidden flex flex-col items-center justify-center min-h-[400px]">
                            <div class="animate-pet relative text-[10rem]">
                                <span x-text="getPetEmoji()"></span>
                            </div>
                            <div class="mt-8 text-center">
                                <h3 class="text-3xl font-black text-slate-800" x-text="pet.name"></h3>
                                <p class="text-sm font-bold text-sky-500 mt-1 italic" x-text="scannedItems < 3 ? 'Scan ' + (3-scannedItems) + ' lagi untuk menetas' : 'Teman Setiamu'"></p>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-8 space-y-8">
                        <section class="bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm">
                            <h3 class="text-xl font-black text-slate-800 mb-6">Misi Harian</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <template x-for="ch in challenges" :key="ch.id">
                                    <div class="p-5 rounded-3xl border border-slate-50 bg-slate-50/30 flex items-center justify-between">
                                        <div class="flex gap-4 items-center">
                                            <div class="w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-2xl shadow-sm" x-text="ch.icon"></div>
                                            <div>
                                                <p class="font-black text-sm text-slate-700" x-text="ch.text"></p>
                                                <div class="mt-2 w-24 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                                                    <div class="h-full bg-green-500" :style="'width: ' + (ch.progress/ch.target)*100 + '%'"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="block text-[10px] font-black text-green-600" x-text="'+' + ch.reward + ' Poin'"></span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </section>
                    </div>
                </div>
            </template>

            <template x-if="activeTab === 'scan'">
                <div class="bg-white rounded-[3rem] p-8 border border-slate-100 shadow-sm min-h-[60vh]">
                    <div class="max-w-4xl mx-auto text-center">
                        <div class="relative aspect-video bg-slate-900 rounded-[2.5rem] overflow-hidden mb-8">
                            <div x-show="isScanning" class="absolute inset-x-0 h-[2px] bg-green-400 z-10 animate-scan-line"></div>
                            <div class="flex items-center justify-center h-full text-white/20">
                                <i data-lucide="camera" class="w-20 h-20"></i>
                            </div>
                        </div>
                        <button @click="simulateScan()" :disabled="isScanning" class="px-10 py-5 bg-green-600 text-white rounded-[2rem] font-black shadow-xl hover:bg-green-700 transition-all">
                            <span x-text="isScanning ? 'MENGIDENTIFIKASI...' : 'AMBIL FOTO SAMPAH'"></span>
                        </button>
                    </div>
                </div>
            </template>

        </main>
    </div>

    <script>
        function ecoApp() {
            return {
                activeTab: 'home',
                points: 150,
                userLevel: 'Pahlawan Hijau Cilik',
                scannedItems: 0,
                isScanning: false,
                pet: { type: 'egg', name: 'Eko-Egg' },
                challenges: [
                    { id: 1, text: "Scan 3 Botol Plastik", target: 3, progress: 0, reward: 50, icon: "ðŸ¥¤" },
                    { id: 2, text: "Scan 2 Sampah Kertas", target: 2, progress: 0, reward: 40, icon: "ðŸ“„" }
                ],
                getPetEmoji() {
                    if (this.scannedItems < 3) return 'ðŸ¥š';
                    return 'ðŸ¢';
                },
                simulateScan() {
                    this.isScanning = true;
                    setTimeout(() => {
                        this.isScanning = false;
                        this.scannedItems++;
                        this.points += 25;
                        if (this.scannedItems === 3) {
                            this.pet.name = 'Penyu Samudera';
                            alert('Selamat! Telurmu menetas menjadi Penyu!');
                        }
                        this.initIcons();
                    }, 2000);
                },
                initIcons() {
                    lucide.createIcons();
                }
            }
        }
    </script>
</body>
</html>
